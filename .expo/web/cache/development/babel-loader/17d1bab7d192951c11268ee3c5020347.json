{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/anupam.gupta/Work/react-native/olSub/screens/user/AuthScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useReducer, useCallback } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useDispatch } from 'react-redux';\nimport FontAwesomeIcon from \"@expo/vector-icons/FontAwesome\";\nimport EntypoIcon from \"@expo/vector-icons/Entypo\";\nimport Input from \"../../components/UI/Input\";\nimport Card from \"../../components/UI/Card\";\nimport Colors from \"../../constants/Colors\";\nimport * as authActions from \"../../store/actions/auth\";\nvar FORM_INPUT_UPDATE = 'FORM_INPUT_UPDATE';\n\nvar formReducer = function formReducer(state, action) {\n  if (action.type === FORM_INPUT_UPDATE) {\n    var updatedValues = _objectSpread(_objectSpread({}, state.inputValues), {}, _defineProperty({}, action.input, action.value));\n\n    var updatedValidities = _objectSpread(_objectSpread({}, state.inputValidities), {}, _defineProperty({}, action.input, action.isValid));\n\n    var updatedFormIsValid = true;\n\n    for (var key in updatedValidities) {\n      updatedFormIsValid = updatedFormIsValid && updatedValidities[key];\n    }\n\n    return {\n      formIsValid: updatedFormIsValid,\n      inputValidities: updatedValidities,\n      inputValues: updatedValues\n    };\n  }\n\n  return state;\n};\n\nvar AuthScreen = function AuthScreen(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isSignup = _useState6[0],\n      setIsSignup = _useState6[1];\n\n  var dispatch = useDispatch();\n\n  var _useReducer = useReducer(formReducer, {\n    inputValues: {\n      email: '',\n      password: ''\n    },\n    inputValidities: {\n      email: false,\n      password: false\n    },\n    formIsValid: false\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      formState = _useReducer2[0],\n      dispatchFormState = _useReducer2[1];\n\n  useEffect(function () {\n    if (error) {\n      Alert.alert('An Error Occurred!', error, [{\n        text: 'Okay'\n      }]);\n    }\n  }, [error]);\n\n  var authHandler = function authHandler() {\n    var action;\n    return _regeneratorRuntime.async(function authHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (isSignup) {\n              action = authActions.signup(formState.inputValues.email, formState.inputValues.password);\n            } else {\n              action = authActions.login(formState.inputValues.email, formState.inputValues.password);\n            }\n\n            setError(null);\n            setIsLoading(true);\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(dispatch(action));\n\n          case 6:\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](3);\n            setError(_context.t0.message);\n            setIsLoading(false);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 8]], Promise);\n  };\n\n  var inputChangeHandler = useCallback(function (inputIdentifier, inputValue, inputValidity) {\n    dispatchFormState({\n      type: FORM_INPUT_UPDATE,\n      value: inputValue,\n      isValid: inputValidity,\n      input: inputIdentifier\n    });\n  }, [dispatchFormState]);\n  return React.createElement(LinearGradient, {\n    colors: ['#ffffff', '#ffffff'],\n    style: styles.gradient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.titleContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.titleLable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Login\")), React.createElement(Card, {\n    style: styles.authContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.inputContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, React.createElement(Input, {\n    id: \"email\",\n    label: \"E-Mail\",\n    keyboardType: \"email-address\",\n    required: true,\n    email: true,\n    autoCapitalize: \"none\",\n    errorText: \"Please enter a valid email address.\",\n    onInputChange: inputChangeHandler,\n    initialValue: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }), React.createElement(Input, {\n    id: \"password\",\n    label: \"Password\",\n    keyboardType: \"default\",\n    secureTextEntry: true,\n    required: true,\n    minLength: 5,\n    autoCapitalize: \"none\",\n    errorText: \"Please enter a valid password.\",\n    onInputChange: inputChangeHandler,\n    initialValue: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }), React.createElement(View, {\n    style: styles.forgotPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.labelFoegetPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"forgot password\"))), React.createElement(View, {\n    style: styles.authenticateButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    style: styles.loginContainer,\n    title: isSignup ? 'Sign Up' : 'Login',\n    color: \"rgba(84,183,183,1)\",\n    onPress: authHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    style: styles.signUpContainer,\n    title: \"\" + (isSignup ? 'Login' : 'Sign Up'),\n    color: \"rgba(84,183,183,1)\",\n    onPress: function onPress() {\n      setIsSignup(function (prevState) {\n        return !prevState;\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  })))), React.createElement(View, {\n    style: styles.otherLogins,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.orLoginWith,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"or login with\")), React.createElement(View, {\n    style: styles.iconRow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, React.createElement(FontAwesomeIcon, {\n    name: \"google\",\n    style: styles.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }), React.createElement(FontAwesomeIcon, {\n    name: \"facebook\",\n    style: styles.icon2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }), React.createElement(EntypoIcon, {\n    name: \"twitter\",\n    style: styles.icon3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport var screenOptions = {\n  headerTitle: 'Authenticate'\n};\nvar styles = StyleSheet.create({\n  screen: {\n    flex: 1\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: \"rgba(0,0,0,1)\"\n  },\n  titleContainer: {\n    width: '100%',\n    height: '20%',\n    padding: 10,\n    justifyContent: 'center',\n    backgroundColor: \"rgba(0,0,0,1)\"\n  },\n  titleLable: {\n    fontFamily: \"roboto-regular\",\n    fontSize: 30,\n    color: \"rgba(84,183,183,1)\",\n    alignItems: 'flex-start'\n  },\n  forgotPassword: {\n    marginTop: 5,\n    alignContent: \"flex-end\",\n    alignItems: 'flex-end'\n  },\n  labelFoegetPassword: {\n    color: \"rgba(255,255,255,1)\"\n  },\n  authContainer: {\n    width: '100%',\n    height: '55%',\n    maxWidth: 400,\n    maxHeight: 400,\n    padding: 20,\n    backgroundColor: \"rgba(0,0,0,1)\"\n  },\n  inputContainer: {\n    height: \"80%\",\n    width: \"100%\"\n  },\n  authenticateButtons: {\n    marginTop: 10,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: \"60%\"\n  },\n  loginContainer: {},\n  signUpContainer: {},\n  orLoginWith: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"rgba(255,255,255,1)\"\n  },\n  icon: {\n    color: \"rgba(208,2,27,1)\",\n    fontSize: 16\n  },\n  icon2: {\n    color: \"rgba(59,87,149,1)\",\n    fontSize: 16\n  },\n  icon3: {\n    color: \"rgba(90,164,216,1)\",\n    fontSize: 16\n  },\n  iconRow: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    backgroundColor: \"rgba(255,255,255,1)\"\n  },\n  otherLogins: {\n    flex: 1,\n    marginTop: 10,\n    width: '70%',\n    height: '30%',\n    backgroundColor: \"rgba(255,255,255,1)\"\n  }\n});\nexport default AuthScreen;","map":{"version":3,"sources":["/Users/anupam.gupta/Work/react-native/olSub/screens/user/AuthScreen.js"],"names":["React","useState","useEffect","useReducer","useCallback","LinearGradient","useDispatch","FontAwesomeIcon","EntypoIcon","Input","Card","Colors","authActions","FORM_INPUT_UPDATE","formReducer","state","action","type","updatedValues","inputValues","input","value","updatedValidities","inputValidities","isValid","updatedFormIsValid","key","formIsValid","AuthScreen","props","isLoading","setIsLoading","error","setError","isSignup","setIsSignup","dispatch","email","password","formState","dispatchFormState","Alert","alert","text","authHandler","signup","login","message","inputChangeHandler","inputIdentifier","inputValue","inputValidity","styles","gradient","titleContainer","titleLable","authContainer","inputContainer","forgotPassword","labelFoegetPassword","authenticateButtons","loginContainer","signUpContainer","prevState","otherLogins","orLoginWith","iconRow","icon","icon2","icon3","screenOptions","headerTitle","StyleSheet","create","screen","flex","justifyContent","alignItems","color","width","height","padding","backgroundColor","fontFamily","fontSize","marginTop","alignContent","maxWidth","maxHeight","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer, useCallback } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  TextInput,\n  KeyboardAvoidingView,\n  StyleSheet,\n  Button,\n  ActivityIndicator,\n  Alert\n} from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useDispatch } from 'react-redux';\nimport FontAwesomeIcon from \"react-native-vector-icons/FontAwesome\";\nimport EntypoIcon from \"react-native-vector-icons/Entypo\";\n\nimport Input from '../../components/UI/Input';\nimport Card from '../../components/UI/Card';\nimport Colors from '../../constants/Colors';\nimport * as authActions from '../../store/actions/auth';\n\nconst FORM_INPUT_UPDATE = 'FORM_INPUT_UPDATE';\n\nconst formReducer = (state, action) => {\n  if (action.type === FORM_INPUT_UPDATE) {\n    const updatedValues = {\n      ...state.inputValues,\n      [action.input]: action.value\n    };\n    const updatedValidities = {\n      ...state.inputValidities,\n      [action.input]: action.isValid\n    };\n    let updatedFormIsValid = true;\n    for (const key in updatedValidities) {\n      updatedFormIsValid = updatedFormIsValid && updatedValidities[key];\n    }\n    return {\n      formIsValid: updatedFormIsValid,\n      inputValidities: updatedValidities,\n      inputValues: updatedValues\n    };\n  }\n  return state;\n};\n\nconst AuthScreen = props => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n  const [isSignup, setIsSignup] = useState(false);\n  const dispatch = useDispatch();\n\n  const [formState, dispatchFormState] = useReducer(formReducer, {\n    inputValues: {\n      email: '',\n      password: ''\n    },\n    inputValidities: {\n      email: false,\n      password: false\n    },\n    formIsValid: false\n  });\n\n  useEffect(() => {\n    if (error) {\n      Alert.alert('An Error Occurred!', error, [{ text: 'Okay' }]);\n    }\n  }, [error]);\n\n  const authHandler = async () => {\n    let action;\n    if (isSignup) {\n      action = authActions.signup(\n        formState.inputValues.email,\n        formState.inputValues.password\n      );\n    } else {\n      action = authActions.login(\n        formState.inputValues.email,\n        formState.inputValues.password\n      );\n    }\n    setError(null);\n    setIsLoading(true);\n    try {\n      await dispatch(action);\n      // props.navigation.navigate('Shop');\n    } catch (err) {\n      setError(err.message);\n      setIsLoading(false);\n    }\n  };\n\n  const inputChangeHandler = useCallback(\n    (inputIdentifier, inputValue, inputValidity) => {\n      dispatchFormState({\n        type: FORM_INPUT_UPDATE,\n        value: inputValue,\n        isValid: inputValidity,\n        input: inputIdentifier\n      });\n    },\n    [dispatchFormState]\n  );\n\n  return (\n      <LinearGradient colors={['#ffffff', '#ffffff']} style={styles.gradient}>\n        <View style={styles.titleContainer}>\n          <Text style={styles.titleLable}>Login</Text>\n        </View>\n        <Card style={styles.authContainer}>\n          <ScrollView>\n            <View style={styles.inputContainer}>\n              <Input\n                id=\"email\"\n                label=\"E-Mail\"\n                keyboardType=\"email-address\"\n                required\n                email\n                autoCapitalize=\"none\"\n                errorText=\"Please enter a valid email address.\"\n                onInputChange={inputChangeHandler}\n                initialValue=\"\"\n              />\n              <Input\n                id=\"password\"\n                label=\"Password\"\n                keyboardType=\"default\"\n                secureTextEntry\n                required\n                minLength={5}\n                autoCapitalize=\"none\"\n                errorText=\"Please enter a valid password.\"\n                onInputChange={inputChangeHandler}\n                initialValue=\"\"\n              />\n              <View style={styles.forgotPassword}>\n                <Text style={styles.labelFoegetPassword}>forgot password</Text>\n              </View>\n            </View>\n            <View style={styles.authenticateButtons}>\n                <Button style={styles.loginContainer}\n                  title={isSignup ? 'Sign Up' : 'Login'}\n                  color=\"rgba(84,183,183,1)\"\n                  onPress={authHandler}\n                /> \n                <Button style={styles.signUpContainer}\n                  title={`${isSignup ? 'Login' : 'Sign Up'}`}\n                  color=\"rgba(84,183,183,1)\"\n                  onPress={() => {\n                    setIsSignup(prevState => !prevState);\n                  }}\n                />\n            </View>\n          </ScrollView>\n        </Card>\n        <View style={styles.otherLogins}>\n          <View style={styles.orLoginWith}>\n            <Text>or login with</Text>\n          </View>\n          <View style={styles.iconRow}>\n            <FontAwesomeIcon name=\"google\" style={styles.icon}></FontAwesomeIcon>\n            <FontAwesomeIcon name=\"facebook\" style={styles.icon2}></FontAwesomeIcon>\n            <EntypoIcon name=\"twitter\" style={styles.icon3}></EntypoIcon>\n          </View>\n        </View>\n      </LinearGradient>\n  );\n};\n\nexport const screenOptions = {\n  headerTitle: 'Authenticate',\n};\n\nconst styles = StyleSheet.create({\n  screen: {\n    flex: 1,\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    color:\"rgba(0,0,0,1)\",\n  },\n  titleContainer:{\n    width: '100%',\n    height: '20%',\n    padding: 10,\n    justifyContent: 'center',\n    backgroundColor: \"rgba(0,0,0,1)\",\n  },\n  titleLable:{\n    fontFamily: \"roboto-regular\",\n    fontSize: 30,\n    color: \"rgba(84,183,183,1)\",\n    alignItems: 'flex-start',\n  },\n  forgotPassword:{\n    marginTop: 5,\n    alignContent: \"flex-end\",\n    alignItems: 'flex-end',\n  },\n  labelFoegetPassword:{\n    color: \"rgba(255,255,255,1)\",\n  },\n  authContainer: {\n    width: '100%',\n    height: '55%',\n    maxWidth: 400,\n    maxHeight: 400,\n    padding: 20,\n    backgroundColor: \"rgba(0,0,0,1)\",\n  },\n  inputContainer:{\n    height: \"80%\",\n    width: \"100%\",\n  },\n  authenticateButtons:{\n    marginTop: 10,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: \"60%\",\n  },\n  loginContainer: {\n    \n  },\n  signUpContainer: {\n    \n  },\n  orLoginWith: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"rgba(255,255,255,1)\",\n  },\n  icon: {\n    color: \"rgba(208,2,27,1)\",\n    fontSize: 16,\n  },\n  icon2: {\n    color: \"rgba(59,87,149,1)\",\n    fontSize: 16,\n  },\n  icon3: {\n    color: \"rgba(90,164,216,1)\",\n    fontSize: 16,\n  },\n  iconRow: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    backgroundColor: \"rgba(255,255,255,1)\",\n  },\n  otherLogins:{\n    flex:1,\n    marginTop: 10,\n    width: '70%',\n    height: '30%',\n    backgroundColor: \"rgba(255,255,255,1)\"\n  }\n});\n\nexport default AuthScreen;\n"]},"metadata":{},"sourceType":"module"}